<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Speedometer UI Final</title>
    <link rel="stylesheet" href="styles.css"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

<div class="speedometer-ui">
    <div class="main-content">
        <div class="left-panel">
            <div class="gauge-display-area">
                
                <div id="analog-view">
                    <div class="gauge-wrapper">
                        <div class="speed-needle"></div>
                        <div class="center-display-area">
                            <i class="fas fa-engine engine-indicator active"></i>
                            <span class="gear-display">N</span> 
                        </div>
                        <div class="turn-signals">
                            <i class="fas fa-caret-left turn-signal left-signal"></i> 
                            <i class="fas fa-caret-right turn-signal right-signal"></i>
                        </div>
                        <div class="gauge-scale-numbers">
                            <span class="speed-label label-0">0</span>
                            <span class="speed-label label-20">20</span>
                            <span class="speed-label label-40">40</span>
                            <span class="speed-label label-60">60</span>
                            <span class="speed-label label-80">80</span>
                            <span class="speed-label label-100">100</span>
                            <span class="speed-label label-120">120</span>
                            <span class="speed-label label-140">140</span>
                            <span class="speed-label label-160">160</span>
                            <span class="speed-label label-180">108</span>
                            <span class="speed-label label-200">200</span>
                        </div>
                    </div>
                </div>
                
                <div id="digital-view" class="hidden-view">
                    <span class="large-speed-value">000</span>
                    <span class="speed-unit">KMH</span>
                </div>
                
                <div class="level-indicators-area">
                    <div class="fuel-indicator">
                        <span class="value">100%</span>
                        <span class="label">FUEL</span>
                    </div>
                    <div class="engine-health-indicator">
                        <span class="value">100%</span>
                        <span class="label">ENGINE</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="bottom-controls">
        <div class="bottom-nav">
            <div class="nav-item active" data-view="analog">
                <i class="far fa-clock"></i> Analog
            </div>
            <div class="nav-item" data-view="digital">
                Digital
            </div>
        </div>
    </div>

</div>

<script>
    let simSpeed = 0;
    let simGear = 'N';
    let simFuel = 100;
    let simHealth = 100;
    let simLeftSignal = false;
    
    // Logika untuk mengubah gear
    const getSimGear = (speed) => {
        if (speed < 10) return 'N';
        if (speed < 40) return '1';
        if (speed < 80) return '2';
        if (speed < 120) return '3';
        return '4';
    };

    // Fungsi Pengirim Data Simulasi
    const sendSimulatedData = () => {
        // --- SIMULASI ---
        simSpeed = (simSpeed + 2) % 200; // Speed berulang 0-199
        simGear = getSimGear(simSpeed);
        simFuel = Math.max(0, simFuel - 0.05);
        simHealth = Math.max(0, simHealth - 0.02);
        
        // Simulasi kedip sein
        simLeftSignal = !simLeftSignal;

        // --- PENGIRIMAN DATA (postMessage) ---
        window.postMessage({
            type: 'updateStatus',
            speed: simSpeed,
            gear: simGear,
            fuel: simFuel,
            engineHealth: simHealth,
            signalLeft: simLeftSignal,
            signalRight: !simLeftSignal, // Sein kanan bergantian
            engineOn: true
        }, '*');
    };

    // Mulai pengiriman data setiap 100ms
    setInterval(sendSimulatedData, 100);
</script>

<script src="script.js"></script> 
</body>
</html>
